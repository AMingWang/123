<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>æ­¡è¿é é¢ - å…¨åŠŸèƒ½ç‰ˆ</title>
<style>
  /* Reset */
  * { box-sizing: border-box; }
  body {
    font-family: "Microsoft JhengHei", sans-serif;
    background: linear-gradient(135deg, #FFDEE9, #B5FFFC);
    margin: 0; color: #333;
    transition: background 0.5s, color 0.5s;
  }
  body.dark {
    background: #121212;
    color: #eee;
  }
  .container {
    max-width: 480px;
    margin: auto;
    min-height: 100vh;
    padding: 20px;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
  .welcome-box {
    background-color: white;
    border-radius: 20px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    padding: 30px 40px;
    text-align: center;
    position: relative;
    transition: background-color 0.5s, color 0.5s;
  }
  body.dark .welcome-box {
    background-color: #222;
    box-shadow: 0 0 15px #00ffc8;
    color: #eee;
  }
  h1 {
    margin-bottom: 12px;
    font-size: 1.9rem;
  }
  p {
    margin: 8px 0 16px;
    font-size: 16px;
  }
  .user-info {
    margin-bottom: 15px;
  }
  .user-avatar {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    border: 3px solid #ff6b6b;
    object-fit: cover;
    margin: 0 auto 12px;
  }
  body.dark .user-avatar {
    border-color: #00ffc8;
  }
  button {
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  .logout-button {
    background-color: #ff6b6b;
    color: white;
    width: 100%;
  }
  .logout-button:hover {
    background-color: #e63946;
  }
  .toggle-theme {
    background-color: #0077ff;
    color: white;
    margin-bottom: 20px;
    width: 100%;
  }
  .toggle-theme:hover {
    background-color: #005bb5;
  }
  .edit-profile-button {
    background-color: #34a853;
    color: white;
    margin: 15px 0 30px;
    width: 100%;
  }
  .edit-profile-button:hover {
    background-color: #0c7a29;
  }
  /* ç·¨è¼¯è¦–çª— */
  #editProfileModal {
    display: none;
    position: fixed;
    z-index: 1500;
    left: 0; top: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.5);
    justify-content: center;
    align-items: center;
  }
  #editProfileModal.active {
    display: flex;
  }
  #editProfileModal .modal-content {
    background: white;
    border-radius: 12px;
    padding: 25px 30px;
    width: 90%;
    max-width: 400px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    position: relative;
  }
  body.dark #editProfileModal .modal-content {
    background: #222;
    color: #eee;
  }
  #editProfileModal label {
    display: block;
    margin-bottom: 6px;
    font-weight: 600;
  }
  #editProfileModal input[type="text"], #editProfileModal input[type="email"] {
    width: 100%;
    padding: 8px 10px;
    margin-bottom: 15px;
    border-radius: 6px;
    border: 1px solid #ccc;
    font-size: 14px;
  }
  body.dark #editProfileModal input[type="text"], body.dark #editProfileModal input[type="email"] {
    background: #333;
    border-color: #555;
    color: #eee;
  }
  #editProfileModal button {
    width: 48%;
    margin: 0 1%;
  }
  #editProfileModal .close-btn {
    background: #ff6b6b;
  }
  #editProfileModal .save-btn {
    background: #34a853;
    color: white;
  }
  #editProfileModal button:hover {
    opacity: 0.85;
  }
  /* å…¬å‘Š */
  .announcement {
    background: #ffe4e6;
    border-radius: 12px;
    padding: 15px 20px;
    margin-bottom: 25px;
    font-size: 14px;
    color: #b00020;
  }
  body.dark .announcement {
    background: #44000d;
    color: #ffb3b3;
  }
  /* é›™å› ç´ æç¤º */
  .twofa-warning {
    background: #fff3cd;
    border-radius: 12px;
    color: #856404;
    padding: 12px 20px;
    margin-bottom: 20px;
    font-size: 14px;
  }
  body.dark .twofa-warning {
    background: #533d00;
    color: #ffe58f;
  }
  /* å¾½ç«  */
  .badges {
    display: flex;
    justify-content: center;
    gap: 12px;
    margin-bottom: 20px;
  }
  .badge {
    background: #ff6b6b;
    color: white;
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 13px;
    user-select: none;
  }
  body.dark .badge {
    background: #00ffc8;
    color: #222;
  }
  /* èƒŒæ™¯é¸æ“‡ */
  .bg-select {
    margin-bottom: 20px;
    display: flex;
    justify-content: center;
    gap: 15px;
  }
  .bg-option {
    width: 50px;
    height: 50px;
    border-radius: 12px;
    cursor: pointer;
    border: 2px solid transparent;
    transition: border-color 0.3s;
  }
  .bg-option.active {
    border-color: #ff6b6b;
  }
  /* è‡ªè¨‚èƒŒæ™¯ */
  .bg1 { background: linear-gradient(135deg, #FFDEE9, #B5FFFC); }
  .bg2 { background: linear-gradient(135deg, #C9FFBF, #FFAFBD); }
  .bg3 { background: linear-gradient(135deg, #89F7FE, #66A6FF); }
  .bg4 { background: linear-gradient(135deg, #FBD3E9, #BB377D); }

  /* ç¤¾ç¾¤åˆ†äº«æŒ‰éˆ• */
  .share-buttons {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 25px;
  }
  .share-btn {
    background: #0077ff;
    color: white;
    padding: 8px 14px;
    border-radius: 8px;
    font-size: 14px;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 6px;
  }
  .share-btn:hover {
    background: #005bb5;
  }
  /* å°åœ–ç¤º */
  .share-btn svg {
    width: 16px;
    height: 16px;
    fill: white;
  }
  /* å€‹äººåŒ–æ¨è–¦ */
  .recommendations {
    background: #e0f7fa;
    border-radius: 12px;
    padding: 15px 20px;
    margin-bottom: 20px;
    font-size: 14px;
    color: #006064;
    text-align: left;
  }
  body.dark .recommendations {
    background: #004d40;
    color: #a7ffeb;
  }
  .recommendations ul {
    margin: 8px 0 0 18px;
    padding: 0;
  }
  /* èŠå¤©å°å¹«æ‰‹ */
  #chatHelper {
    position: fixed;
    bottom: 40px;
    right: 40px;
    width: 60px;
    height: 60px;
    background: #0077ff;
    border-radius: 50%;
    box-shadow: 0 6px 15px rgba(0,0,0,0.3);
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    font-size: 28px;
    user-select: none;
  }
  #chatBox {
    display: none;
    position: fixed;
    bottom: 110px;
    right: 40px;
    width: 280px;
    max-height: 400px;
    background: white;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    overflow: hidden;
    flex-direction: column;
  }
  body.dark #chatBox {
    background: #222;
    color: #eee;
  }
  #chatBox.active {
    display: flex;
  }
  #chatMessages {
    flex-grow: 1;
    padding: 15px;
    overflow-y: auto;
    font-size: 14px;
  }
  #chatInputArea {
    border-top: 1px solid #ccc;
    display: flex;
  }
  body.dark #chatInputArea {
    border-color: #555;
  }
  #chatInput {
    flex-grow: 1;
    border: none;
    padding: 10px;
    font-size: 14px;
    outline: none;
    background: transparent;
    color: inherit;
  }
  #chatSendBtn {
    background: #0077ff;
    color: white;
    border: none;
    padding: 0 16px;
    cursor: pointer;
  }
  #chatSendBtn:hover {
    background: #005bb5;
  }
  /* è‡ªå‹•ç™»å‡ºå€’æ•¸ */
  #logoutTimer {
    position: fixed;
    bottom: 10px;
    right: 10px;
    font-size: 14px;
    color: #ff6b6b;
    font-weight: bold;
  }
  body.dark #logoutTimer {
    color: #00ffc8;
  }
</style>
</head>
<body class="bg1">

<div class="container">
  <div class="welcome-box" id="welcomeBox">
    <img src="https://i.pravatar.cc/150?u=userid" alt="ç”¨æˆ¶é ­åƒ" class="user-avatar" id="userAvatar" />
    <h1 id="welcomeName">æ­¡è¿ï¼Œä½¿ç”¨è€…ï¼</h1>
    <p id="welcomeMsg">å¾ˆé«˜èˆˆä½ ä¾†åˆ°é€™è£¡ã€‚</p>

    <div class="badges" id="badges">
      <div class="badge">æ–°æ‰‹</div>
      <div class="badge">æœƒå“¡</div>
    </div>

    <div class="announcement" id="announcement">
      ğŸ‰ æœ¬é€±æ´»å‹•ï¼šå®Œæˆå€‹äººè³‡æ–™å¯ç²å¾— 100 é»ç©åˆ†ï¼
    </div>

    <div class="twofa-warning" id="twofaWarning" style="display:none;">
      âš ï¸ ç‚ºä¿éšœæ‚¨çš„å¸³æˆ¶å®‰å…¨ï¼Œè«‹å•Ÿç”¨é›™å› ç´ é©—è­‰ã€‚
    </div>

    <div class="recommendations" id="recommendations">
      <strong>æ¨è–¦çµ¦ä½ ï¼š</strong>
      <ul>
        <li>æ¢ç´¢æœ€æ–°æ–‡ç« </li>
        <li>åŠ å…¥ç¤¾ç¾¤è¨è«–</li>
        <li>æŸ¥çœ‹å°ˆå±¬å„ªæƒ </li>
      </ul>
    </div>

    <button class="edit-profile-button" id="editProfileBtn">ç·¨è¼¯è³‡æ–™</button>
    <button class="toggle-theme" id="toggleThemeBtn">åˆ‡æ›æ·±è‰²æ¨¡å¼</button>

    <div class="bg-select" id="bgSelect">
      <div class="bg-option bg1 active" data-bg="bg1" title="ç²‰ç´…æ¼¸å±¤"></div>
      <div class="bg-option bg2" data-bg="bg2" title="ç¶ è‰²æ¼¸å±¤"></div>
      <div class="bg-option bg3" data-bg="bg3" title="è—è‰²æ¼¸å±¤"></div>
      <div class="bg-option bg4" data-bg="bg4" title="ç´«è‰²æ¼¸å±¤"></div>
    </div>

    <div class="share-buttons">
      <a href="#" class="share-btn" id="shareFacebook" title="åˆ†äº«åˆ° Facebook" target="_blank" rel="noopener noreferrer">
        <svg viewBox="0 0 24 24"><path d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 5 3.66 9.13 8.44 9.88v-6.99H7.9v-2.89h2.54V9.41c0-2.5 1.49-3.89 3.77-3.89 1.09 0 2.23.2 2.23.2v2.46h-1.25c-1.23 0-1.62.77-1.62 1.56v1.87h2.77l-.44 2.89h-2.33v6.99C18.34 21.13 22 17 22 12z"/></svg>
        Facebook
      </a>
      <a href="#" class="share-btn" id="shareTwitter" title="åˆ†äº«åˆ° Twitter" target="_blank" rel="noopener noreferrer">
        <svg viewBox="0 0 24 24"><path d="M23 3a10.9 10.9 0 01-3.14.86 4.48 4.48 0 001.98-2.48 9.14 9.14 0 01-2.88 1.1A4.52 4.52 0 0016.11 2c-2.48 0-4.5 2.02-4.5 4.5 0 .35.04.69.12 1.02A12.94 12.94 0 013 3.16a4.48 4.48 0 001.39 6.02 4.42 4.42 0 01-2.04-.57v.06c0 2.16 1.54 3.96 3.58 4.37a4.5 4.5 0 01-2.03.08 4.5 4.5 0 004.2 3.13A9 9 0 012 19.54a12.76 12.76 0 006.92 2.03c8.3 0 12.85-6.87 12.85-12.83 0-.2 0-.42-.02-.63A9.27 9.27 0 0023 3z"/></svg>
        Twitter
      </a>
      <a href="#" class="share-btn" id="shareLine" title="åˆ†äº«åˆ° LINE" target="_blank" rel="noopener noreferrer">
        <svg viewBox="0 0 24 24"><path d="M20 3H4c-1.1 0-2 .9-2 2v14l4-4h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/></svg>
        LINE
      </a>
    </div>

    <button class="logout-button" id="logoutBtn">ç™»å‡º</button>
  </div>
</div>

<!-- ç·¨è¼¯è³‡æ–™å½ˆçª— -->
<div id="editProfileModal">
  <div class="modal-content">
    <h2>ç·¨è¼¯å€‹äººè³‡æ–™</h2>
    <label for="inputName">å§“å</label>
    <input type="text" id="inputName" placeholder="è¼¸å…¥å§“å" />
    <label for="inputEmail">é›»å­éƒµä»¶</label>
    <input type="email" id="inputEmail" placeholder="è¼¸å…¥é›»å­éƒµä»¶" />
    <label for="inputAvatar">é ­åƒ URL</label>
    <input type="text" id="inputAvatar" placeholder="è¼¸å…¥é ­åƒåœ–ç‰‡ç¶²å€" />
    <div style="text-align: center;">
      <button class="save-btn" id="saveProfileBtn">å„²å­˜</button>
      <button class="close-btn" id="closeEditBtn">å–æ¶ˆ</button>
    </div>
  </div>
</div>

<!-- èŠå¤©å°å¹«æ‰‹ -->
<div id="chatHelper" title="é–‹å•ŸèŠå¤©å°å¹«æ‰‹">ğŸ’¬</div>
<div id="chatBox">
  <div id="chatMessages"></div>
  <div id="chatInputArea">
    <input type="text" id="chatInput" placeholder="è¼¸å…¥è¨Šæ¯..." />
    <button id="chatSendBtn">é€å‡º</button>
  </div>
</div>

<!-- è‡ªå‹•ç™»å‡ºå€’æ•¸ -->
<div id="logoutTimer"></div>

<script>
  // é è¨­ç”¨æˆ¶è³‡æ–™
  const user = {
    name: "ä½¿ç”¨è€…",
    email: "user@example.com",
    avatar: "https://i.pravatar.cc/150?u=userid",
    badges: ["æ–°æ‰‹", "æœƒå“¡"],
    twoFAEnabled: false, // å‡è¨­æœªé–‹å•Ÿé›™å› ç´ é©—è­‰
  };

  // DOMå…ƒç´ 
  const welcomeName = document.getElementById("welcomeName");
  const welcomeMsg = document.getElementById("welcomeMsg");
  const userAvatar = document.getElementById("userAvatar");
  const badgesContainer = document.getElementById("badges");
  const twofaWarning = document.getElementById("twofaWarning");
  const announcement = document.getElementById("announcement");
  const recommendations = document.getElementById("recommendations");
  const editProfileBtn = document.getElementById("editProfileBtn");
  const toggleThemeBtn = document.getElementById("toggleThemeBtn");
  const bgSelect = document.getElementById("bgSelect");
  const logoutBtn = document.getElementById("logoutBtn");
  const editProfileModal = document.getElementById("editProfileModal");
  const inputName = document.getElementById("inputName");
  const inputEmail = document.getElementById("inputEmail");
  const inputAvatar = document.getElementById("inputAvatar");
  const saveProfileBtn = document.getElementById("saveProfileBtn");
  const closeEditBtn = document.getElementById("closeEditBtn");
  const shareFacebook = document.getElementById("shareFacebook");
  const shareTwitter = document.getElementById("shareTwitter");
  const shareLine = document.getElementById("shareLine");

  // åˆå§‹åŒ–ç•«é¢
  function init() {
    updateUserUI();
    if (!user.twoFAEnabled) {
      twofaWarning.style.display = "block";
    } else {
      twofaWarning.style.display = "none";
    }
  }

  // æ›´æ–°ç”¨æˆ¶ä»‹é¢è³‡è¨Š
  function updateUserUI() {
    welcomeName.textContent = `æ­¡è¿ï¼Œ${user.name}ï¼`;
    userAvatar.src = user.avatar || "https://i.pravatar.cc/150?u=default";
    badgesContainer.innerHTML = "";
    user.badges.forEach(b => {
      const div = document.createElement("div");
      div.className = "badge";
      div.textContent = b;
      badgesContainer.appendChild(div);
    });
  }

  // åˆ‡æ›æ·±è‰²æ¨¡å¼
  toggleThemeBtn.addEventListener("click", () => {
    document.body.classList.toggle("dark");
  });

  // èƒŒæ™¯åˆ‡æ›
  bgSelect.addEventListener("click", (e) => {
    if (e.target.classList.contains("bg-option")) {
      const selectedBg = e.target.dataset.bg;
      document.body.className = selectedBg + (document.body.classList.contains("dark") ? " dark" : "");
      // æ›´æ–°é¸å–æ¨£å¼
      document.querySelectorAll(".bg-option").forEach(el => el.classList.remove("active"));
      e.target.classList.add("active");
    }
  });

  // é–‹å•Ÿç·¨è¼¯è³‡æ–™å½ˆçª—
  editProfileBtn.addEventListener("click", () => {
    inputName.value = user.name;
    inputEmail.value = user.email;
    inputAvatar.value = user.avatar;
    editProfileModal.classList.add("active");
  });

  // é—œé–‰ç·¨è¼¯è³‡æ–™å½ˆçª—
  closeEditBtn.addEventListener("click", () => {
    editProfileModal.classList.remove("active");
  });

  // å„²å­˜ç·¨è¼¯è³‡æ–™
  saveProfileBtn.addEventListener("click", () => {
    const newName = inputName.value.trim();
    const newEmail = inputEmail.value.trim();
    const newAvatar = inputAvatar.value.trim();
    if (newName) user.name = newName;
    if (newEmail) user.email = newEmail;
    if (newAvatar) user.avatar = newAvatar;
    updateUserUI();
    editProfileModal.classList.remove("active");
  });

  // ç¤¾ç¾¤åˆ†äº«æŒ‰éˆ•åŠŸèƒ½
  function encodeURIComp(str) {
    return encodeURIComponent(str);
  }
  const pageUrl = encodeURIComp(window.location.href);
  const shareText = encodeURIComp(`æ­¡è¿ä¾†åˆ°æˆ‘çš„å€‹äººé é¢ï¼`);

  shareFacebook.href = `https://www.facebook.com/sharer/sharer.php?u=${pageUrl}`;
  shareTwitter.href = `https://twitter.com/intent/tweet?url=${pageUrl}&text=${shareText}`;
  shareLine.href = `https://social-plugins.line.me/lineit/share?url=${pageUrl}`;

  // ç™»å‡ºåŠŸèƒ½æ¨¡æ“¬
  logoutBtn.addEventListener("click", () => {
    alert("ä½ å·²ç™»å‡ºã€‚");
    // æ¨¡æ“¬æ¸…é™¤è³‡æ–™ã€è·³è½‰ç­‰...
  });

  // èŠå¤©å°å¹«æ‰‹
  const chatHelper = document.getElementById("chatHelper");
  const chatBox = document.getElementById("chatBox");
  const chatMessages = document.getElementById("chatMessages");
  const chatInput = document.getElementById("chatInput");
  const chatSendBtn = document.getElementById("chatSendBtn");

  chatHelper.addEventListener("click", () => {
    chatBox.classList.toggle("active");
  });

  chatSendBtn.addEventListener("click", () => {
    sendMessage();
  });

  chatInput.addEventListener("keydown", (e) => {
    if (e.key === "Enter") sendMessage();
  });

  function sendMessage() {
    const msg = chatInput.value.trim();
    if (!msg) return;
    appendChatMessage("æˆ‘", msg);
    chatInput.value = "";
    // æ¨¡æ“¬ AI å›è¦†
    setTimeout(() => {
      appendChatMessage("å°å¹«æ‰‹", "é€™æ˜¯ä¸€å€‹ç¤ºç¯„å›è¦†ï¼Œæ‚¨èªªçš„æ˜¯ï¼š" + msg);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }, 800);
  }

  function appendChatMessage(sender, msg) {
    const div = document.createElement("div");
    div.style.marginBottom = "10px";
    div.innerHTML = `<strong>${sender}ï¼š</strong>${msg}`;
    chatMessages.appendChild(div);
    chatMessages.scrollTop = chatMessages.scrollHeight;
  }

  // è‡ªå‹•ç™»å‡ºå€’æ•¸è¨ˆæ™‚ï¼ˆä¾‹å¦‚5åˆ†é˜ï¼‰
  const LOGOUT_SECONDS = 300; // 5åˆ†é˜
  let logoutCounter = LOGOUT_SECONDS;
  const logoutTimer = document.getElementById("logoutTimer");

  function updateLogoutTimer() {
    const min = Math.floor(logoutCounter / 60);
    const sec = logoutCounter % 60;
    logoutTimer.textContent = `è‡ªå‹•ç™»å‡ºå€’æ•¸ï¼š${min}:${sec.toString().padStart(2,"0")}`;
    if (logoutCounter === 0) {
      alert("æ™‚é–“åˆ°ï¼Œè‡ªå‹•ç™»å‡ºï¼");
      // æ¨¡æ“¬ç™»å‡ºè¡Œç‚º
      logoutCounter = LOGOUT_SECONDS;
      logoutTimer.textContent = "";
    } else {
      logoutCounter--;
    }
  }
  setInterval(updateLogoutTimer, 1000);

  // åˆå§‹åŒ–
  init();
</script>

</body>
</html>
